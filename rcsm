#!/bin/rc

basedir=/etc/rcsm

fn usage {
	printf 'Usage: -a|-d|-c|-h|-k|-l|-s|-r\n'
	exit 0
}

switch($1) {
case -a
	if (test -e $basedir/avail/$2) {
		ln -sf $basedir/avail/$2 $basedir/run/
	}
	if not {
		printf 'Service not found\n'
		exit 1
	}
case -c
	test -d $basedir/run || mkdir -p $basedir/run
	test -d $basedir/avail || mkdir -p $basedir/avail
case -h
	usage
case -l
	find $basedir/avail -type -f
case *
	printf 'Invalid argument\n'
	usage
}
